<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>API FrontEnd</title>
    <link rel="stylesheet" href="resources/bootstrap.min.css">
    
</head>
<body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                <a class="nav-item nav-link active" href="#">Home <span class="sr-only">(current)</span></a>
                <a class="nav-item nav-link" href="#">Features</a>
                <a class="nav-item nav-link" href="#">Pricing</a>
                <a class="nav-item nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                </div>
            </div>
        </nav>

        <div class="container">
            <!-- Content here -->
            <form id="#itemForm">
                <div class="form-group">
                    <label for="text">Text</label>
                    <input type="text" id="text" class="form-control">
                </div>
                
                <div class="form-group">
                    <label for="body">Text</label>
                    <textarea type="text" id="body" class="form-control"></textarea>
                </div><input type="submit" value="Submit" />
            </form>
        
            <hr>
       
            <!-- Content here -->
            <ul id="items" class="list-group">

            </ul>
        </div>

    <!-- <script
src="https://code.jquery.com/jquery-1.12.4.js" integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="              crossorigin="anonymous">
    </script> -->

    <script>
        // jQuery
        // $(document).ready( function(){

        //     getItems();
        //     // Get items from API
        //     function getItems() {
        //         $.ajax({
        //            url: 'http://localhost:8000/api/items' 
        //         }).done( function( items ){
        //             console.log(items)
        //              let output = '';
        //              $.each( items, function(key, item) {
        //                     output += `
        //                          <li class="list-group-item">
        //                            <b>${item.text}</b> ${item.body}
        //                          </li>
        //                     `;
        //              });
        //              $('#items').append(output);
        //         })
        //     }

        //     addItems();
        //     // Add Items to Server API
        //     function addItems() {
        //         $.ajax({
        //             method: 'POST',
        //             url: 'http://localhost:8000/api/items',
        //             data: { text: text, body: body }
        //         }).done( function( item ){
        //             alert('Item #'+ item.id + ' added');
        //             location.reload();
        //         })
        //     }
        // })
        // ECMAScript 
        document.addEventListener('DOMContentLoaded', function(){
            console.info('Page Loaded')
            let url = 'http://localhost:8000/api/items';
            fetch(url)
                .then(response => response.json() )
                .then( data => {
                    let items = data;
                    console.log(items)
                });

            
            // Add Items to Server API
            fetch(url, { 
                    method: 'post',
                    body: JSON.stringify(opts)
                })
                .then(response => response.json() )
                .then( data => {
                    let items = data;
                    console.log(items)
            });

        })
        })
    </script>
</body>
</html>